{"ast":null,"code":"var _jsxFileName = \"/Users/mahmood/Desktop/COVID19-Hotspot-Map/frontend/hotspot-map/src/App.js\";\nimport React from \"react\";\nimport MyMap from \"./components/mymap\";\nimport './App.css';\nimport icon from './components/logo192.png';\nimport syring from './components/pls.png';\nimport { Link } from 'react-router-dom';\nimport county_data from './data/total_county_data.json';\nimport prison_data from './data/total_pri_data.json';\nimport marker_data from './data/markers.json';\nimport Bchart from './chart_county.js';\nimport Bachart from './chart_prison.js'; // making todays date accessible to all the methods\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar displaytodaydate; //var latestDataDate = \"2021-05-03\"\n\nvar cty;\nvar pri;\nvar data = {};\n\nclass App extends React.Component {\n  constructor(props) {\n    // initializing \n    super(props);\n\n    this.datetime = () => {\n      var showdate = new Date();\n      var date = showdate.getDate();\n      var month = 1 + showdate.getMonth();\n      var year = showdate.getFullYear();\n\n      if (date < 10) {\n        date = '0' + showdate.getDate();\n      }\n\n      if (month < 10) {\n        month = '0' + month;\n      }\n\n      displaytodaydate = year + '-' + month + '-' + date;\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.handleInputChange = event => {\n      event.preventDefault();\n      console.log(event.target.value);\n      this.setState({\n        theDate: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      document.getElementById(\"error\").innerHTML = \"Scroll down for more information\";\n      document.getElementById(\"error\").style.color = \"green\";\n      document.getElementById(\"chosenData\").style.visibility = \"visible\";\n      event.preventDefault();\n      data = this.state;\n      this.inputValidate(data);\n      this.AllCountyData();\n      this.AllPrisonData();\n    };\n\n    this.scrollUp = () => {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    };\n\n    this.state = {\n      county: [],\n      prisons: [],\n      selectCounty: 'All',\n      selectPrison: 'None',\n      theDate: '',\n      pri_uni_ref: [],\n      cty_uni_ref: []\n    };\n  } // to find the today's date\n\n\n  // Load all the counties for the dropdown.\n  async loadCounties() {\n    const response = await fetch('/load_counties'); //how it gets backend\n\n    const data = await response.json();\n\n    if (response.ok) {\n      console.log(\"Connected to backend API from loadDB().\");\n    } else {\n      console.log(\"Could not connect to backend API from loadDB().\");\n    }\n\n    return data;\n  } // Writes all the prisons to a file and also returns the result.\n\n\n  async getPrison() {\n    const response = await fetch('/get_prisons');\n    const data = await response.json();\n\n    if (response.ok) {\n      console.log(\"Connected to backend API from getPrison().\");\n    } else {\n      console.log(\"Could not connect to backend API from getPrison().\");\n    }\n\n    return data;\n  } // This gets the total number of cases for all prisons for the latest date.\n\n\n  async getTotalPrisonCases() {\n    const response = await fetch('/getTotalPrisonCases');\n\n    if (response.ok) {\n      console.log(\"Connected to backend API from getTotalPrisonCases().\");\n    } else {\n      console.log(\"Could not connect to backend API from getTotalPrisonCases().\");\n    }\n  } // Loads all the vaccine locations in california.\n\n\n  async getVacLoc() {\n    const response = await fetch('/getVacLoc');\n\n    if (response.ok) {\n      console.log(\"Connected to backend API from getVacLoc().\");\n    } else {\n      console.log(\"Could not connect to backend API from getVacLoc().\");\n    }\n  } // This gets the total number of cases for all counties for the latest date.\n\n\n  async getTotalCountyCases() {\n    const response = await fetch('/getTotalCountyCases');\n\n    if (response.ok) {\n      console.log(\"Connected to backend API from getTotalCountyCases().\");\n    } else {\n      console.log(\"Could not connect to backend API from getTotalCountyCases().\");\n    }\n  } // This gets the data for a selected prison and date.\n\n\n  async getPrisonData() {\n    const response = await fetch('/getPrisonData/' + this.state.pri_uni_ref + \" \" + this.state.theDate);\n    const data = await response.json();\n\n    if (response.ok) {\n      console.log(\"Connected to backend API from getPrisonData().\");\n    } else {\n      console.log(\"Could not connect to backend API from getPrisonData().\");\n    }\n\n    return data;\n  } // This gets the data for all counties given a date.\n\n\n  async AllCountyData() {\n    if (this.state.theDate === '') {\n      this.state.theDate = '2021-05-03';\n    }\n\n    const response = await fetch('/AllCountyData/' + this.state.theDate);\n\n    if (response.ok) {\n      console.log(\"Connected to backend API from AllCountyData().\");\n    } else {\n      console.log(\"Could not connect to backend API from AllCountyData().\");\n    }\n  } // This gets the data for all prison given a date.\n\n\n  async AllPrisonData() {\n    const response = await fetch('/AllPrisonData/' + this.state.theDate);\n\n    if (response.ok) {\n      console.log(\"Connected to backend API from AllPrisonData().\");\n    } else {\n      console.log(\"Could not connect to backend API from AllPrisonData().\");\n    }\n  } // This gets the data for a selected county and date.\n\n\n  async getCountyData() {\n    const response = await fetch('/getCountyData/' + this.state.cty_uni_ref + \" \" + this.state.theDate);\n    const data = await response.json();\n\n    if (response.ok) {\n      console.log(\"Connected to backend API from getCountyData()\");\n    } else {\n      console.log(\"Could not connect to backend API from getCountyData()\");\n    }\n\n    return data;\n  }\n\n  async componentDidMount() {\n    cty = this.loadCounties();\n    pri = this.getPrison();\n    this.getVacLoc();\n    this.AllCountyData();\n    this.AllPrisonData();\n    this.getTotalPrisonCases();\n    this.getTotalCountyCases(); //probably need to move this to a new method\n\n    if (!document.getElementById(\"myDate\").value) {\n      document.getElementById(\"error\").innerHTML = \"No data avalible for <strong>\" + displaytodaydate + \"</strong> Showing data for <strong>2021-05-03</strong>\";\n    } // county drop down.\n\n\n    cty.then(result => {\n      this.setState({\n        county: result\n      });\n    });\n  } // for the drop down menus\n\n\n  selectLACounty(event) {\n    this.setState({\n      prisons: [],\n      selectPrison: 'None',\n      selectCounty: 'All'\n    });\n    this.setState({\n      selectCounty: event.target.value\n    });\n    var tar = event.target.value;\n    pri.then(result => {\n      this.setState({\n        prisons: []\n      }); // get the match for the counties.\n\n      for (var i = 0; i < result.length; i++) {\n        if (result[i].county === tar) {\n          this.state.prisons.push(result[i]);\n        }\n      }\n\n      if (event.target.value) {\n        var uni_ref; // get the reference value for a chosen county.\n\n        for (var j = 0; j < this.state.county.length; j++) {\n          if (this.state.county[j].c_name === event.target.value) {\n            uni_ref = this.state.county[j].uni_ref;\n          }\n        }\n\n        this.setState({\n          cty_uni_ref: uni_ref\n        });\n      } else {\n        this.setState({\n          prisons: [],\n          selectPrison: 'None',\n          selectCounty: 'All'\n        });\n      }\n    });\n  }\n\n  selectLAPrison(event) {\n    // if a value is set for prison\n    if (event.target.value) {\n      this.setState({\n        selectPrison: event.target.value\n      });\n    } // if the user goes back to having no value for prison\n    else {\n        this.setState({\n          selectPrison: 'None'\n        });\n      }\n\n    var uni_ref; // get the reference value for a chosen prison.\n\n    for (var i = 0; i < this.state.prisons.length; i++) {\n      if (this.state.prisons[i].p_name === event.target.value) {\n        uni_ref = this.state.prisons[i].uni_ref;\n      }\n    }\n\n    this.setState({\n      pri_uni_ref: uni_ref\n    }, function () {});\n  }\n\n  inputValidate(valiData) {\n    var total_deaths = 0;\n    var total_cases = 0;\n    var pri_cases = 0;\n    var pri_deaths = 0;\n    var pri_released = 0;\n    var new_cases = 0;\n    var new_deaths = 0;\n    var cty_tot_deaths = 0;\n    var cty_tot_cases = 0;\n    var cty_cases = 0;\n    var cty_deaths = 0;\n\n    if (valiData.selectCounty === 'All') {\n      // if(valiData.theDate){\n      // document.getElementById(\"error\").style.color = \"red\";\n      // document.getElementById(\"error\").innerHTML = \"You must choose a county, or both, a county and a prison\";\n      // }\n      // else{\n      console.log(\"All county\");\n      console.log(valiData.theDate);\n\n      for (var i = 0; i < 58; i++) {\n        total_cases += county_data[i].conf_cases;\n        total_deaths += county_data[i].conf_deaths; // }\n\n        document.getElementById(\"info\").style.visibility = \"visible\";\n        document.getElementById(\"info\").innerHTML = \"<h2 style='font-family:Andale Mono, monospace; text-align:center;'>California</h2><h3 style=' font-family:Andale Mono, monospace; text-align:center'>03/10/2020 - 05/03/2021</h3><strong style='padding-left:15px; font-family:Andale Mono, monospace'>Confirmed Cases:</strong> <span style='font-family:Andale Mono, monospace'>\" + total_cases + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Deaths </strong><span style='font-family:Andale Mono, monospace'>\" + total_deaths + \"</span>\";\n      }\n    } else if (valiData.selectPrison === 'None') {\n      console.log(\"here\");\n\n      if (valiData.theDate) {\n        var cty_data = this.getCountyData();\n        cty_data.then(function (result) {\n          if (result.length) {\n            document.getElementById(\"info\").style.visibility = \"visible\";\n            cty_cases = result[0].new_cases;\n            cty_deaths = result[0].new_deaths;\n            cty_tot_cases = result[0].cases;\n            cty_tot_deaths = result[0].deaths;\n            document.getElementById(\"info\").innerHTML = \"<h2 style='text-align:center; font-family:Andale Mono, monospace;'>\" + data.selectCounty + \" </h2><h3 style='text-align:center; font-family:Andale Mono, monospace;'>\" + data.theDate + \"</h3><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Confirmed Cases today: </strong><span style='font-family:Andale Mono, monospace;'> \" + cty_cases + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Deaths today: </strong><span style ='font-family:Andale Mono, monospace;' >\" + cty_deaths + \"<br><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Total cases so far : </strong><span style='font-family:Andale Mono, monospace;'>\" + cty_tot_cases + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Total deaths so far : </strong><span style='font-family:Andale Mono, monospace;'>\" + cty_tot_deaths + \"</span>\";\n          } else {\n            document.getElementById(\"error\").innerHTML = \"Data not found for the selected date.\";\n            document.getElementById(\"error\").style.color = \"red\";\n            document.getElementById(\"info\").innerHTML = \"\";\n          }\n        });\n      } else {\n        document.getElementById(\"info\").style.visibility = \"visible\";\n\n        for (var j = 0; j < 58; j++) {\n          if (data.selectCounty === county_data[j].county) {\n            document.getElementById(\"info\").innerHTML = \"<h2 style='text-align:center'>\" + data.selectCounty + \" </h2><strong style='padding-left:15px;'> Confirmed Cases:</strong> \" + county_data[j].conf_cases + \"<br><strong style='padding-left:15px'>Confirmed Deaths: </strong>\" + county_data[j].conf_deaths;\n          }\n        }\n      }\n    } else {\n      if (data.theDate) {\n        cty_data = this.getCountyData();\n        cty_data.then(function (result) {\n          if (result.length) {\n            document.getElementById(\"info\").style.visibility = \"visible\";\n            cty_cases = result[0].new_cases;\n            cty_deaths = result[0].new_deaths;\n            cty_tot_cases = result[0].cases;\n            cty_tot_deaths = result[0].deaths;\n            document.getElementById(\"info\").innerHTML = \"<h2 style=' font-family:Andale Mono, monospace; text-align:center'>County Data<h2><h3 style=' font-family:Andale Mono, monospace; text-align:center'>\" + data.selectCounty + \"</h3><h3 style=' font-family:Andale Mono, monospace; text-align:center'>\" + data.theDate + \"</h3><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Cases today:</strong> <span style=' font-family:Andale Mono, monospace;'>\" + cty_cases + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Confirmed Deaths today:</strong> <span style='font-family:Andale Mono, monospace;'>\" + cty_deaths + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Confirmed Cases so far:</strong> <span style=' font-family:Andale Mono, monospace;'>\" + cty_tot_cases + \"<br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Deaths so far: </strong> <span style=' font-family:Andale Mono, monospace;'>\" + cty_tot_deaths + \"</span>\";\n          } else {\n            document.getElementById(\"error\").innerHTML = \"Data not found for the selected date.\";\n            document.getElementById(\"error\").style.color = \"red\";\n            document.getElementById(\"info\").innerHTML = \"\";\n          }\n        });\n        var pri_data = this.getPrisonData();\n        pri_data.then(function (result) {\n          if (result.length) {\n            document.getElementById(\"info\").style.visibility = \"visible\";\n            pri_cases = result[0].conf_cases;\n            pri_deaths = result[0].deaths;\n            pri_released = result[0].released_cases;\n            new_cases = result[0].new_conf_cases;\n            new_deaths = result[0].new_deaths;\n            document.getElementById(\"info\").innerHTML += \"<h2 style=' font-family:Andale Mono, monospace; text-align:center'>Prison Data<h2><h3 style=' font-family:Andale Mono, monospace; text-align:center'>\" + data.selectPrison + \"</h3><h3 style=' font-family:Andale Mono, monospace; text-align:center'>\" + data.theDate + \"</h3><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Cases today:</strong> <span style=' font-family:Andale Mono, monospace;'>\" + new_cases + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Confirmed Deaths today:</strong> <span style='font-family:Andale Mono, monospace;'>\" + new_deaths + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Confirmed Cases so far:</strong> <span style=' font-family:Andale Mono, monospace;'>\" + pri_cases + \"<br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Deaths so far: </strong> <span style=' font-family:Andale Mono, monospace;'>\" + pri_deaths + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Release so far: </strong> <span style='font-family:Andale Mono, monospace;'>\" + pri_released + \"</span>\";\n          } else {\n            pri_cases = 0;\n            pri_deaths = 0;\n            pri_released = 0;\n            new_cases = 0;\n            new_deaths = 0;\n            document.getElementById(\"error\").innerHTML = \"Data not found for the selected date.\";\n            document.getElementById(\"error\").style.color = \"red\";\n            document.getElementById(\"info\").innerHTML = \"\";\n          }\n        });\n      } else {\n        document.getElementById(\"info\").style.visibility = \"visible\";\n\n        for (var k = 0; k < Object.keys(marker_data).length; k++) {\n          if (data.selectPrison === marker_data[k].p_name) {\n            for (var l = 0; l < Object.keys(prison_data).length; l++) {\n              if (prison_data[l].uni_ref === marker_data[k].uni_ref) {\n                document.getElementById(\"info\").innerHTML = \"<h2 style='text-align:center; font-family:Andale Mono, monospace;'>\" + data.selectPrison + \" </h2><h3 style='text-align:center; font-family:Andale Mono, monospace;'>\" + data.selectCounty + \" </h3><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Total Confirmed Cases:</strong> <span style='font-family:Andale Mono, monospace;'>\" + prison_data[l].conf_cases + \"<span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Total Confirmed Deaths: </strong><apan style='font-family:Andale Mono, monospace;'\" + prison_data[l].conf_deaths + \"</span><strong style='padding-left:15px; font-family:Andale Mono, monospace'>Total Confirmed Release: </strong><span style='font-family:Andale Mono, monospace'> \" + prison_data[l].rel_cases + \"</span>\";\n                document.getElementById(\"info\").innerHTML = \"<h2 style='text-align:center'>\" + data.selectPrison + \" </h2><h3 style='text-align:center'>\" + data.selectCounty + \" </h3><strong style='padding-left:15px;'> Confirmed Cases:</strong> \" + prison_data[l].conf_cases + \"<br><strong style='padding-left:15px'>Confirmed Deaths: </strong>\" + prison_data[l].conf_deaths + \"<br><strong style='padding-left:15px'>Confirmed Release: </strong>\" + prison_data[l].rel_cases;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    const {\n      theDate\n    } = this.state;\n    const {\n      selectPrison\n    } = this.state;\n    const {\n      selectCounty\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"Center\",\n              fontFamily: \"Courier New\"\n            },\n            children: \" California Covid-19 Hotspot Map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: \"auto\",\n            textAlign: \"center\",\n            width: \"70%\",\n            display: \"block\",\n            overflow: \"auto\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            style: {\n              display: \"inline-block\"\n            },\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                float: \"left\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                style: {\n                  marginRight: \"40px\",\n                  marginBottom: \"5px\",\n                  paddingLeft: \"10px\",\n                  paddingRight: \"10px\",\n                  height: \"30px\",\n                  width: \"200px\",\n                  border: \"2px black solid\",\n                  backgroundColor: \"#393F44\",\n                  color: \"#D8D9DA\"\n                },\n                value: this.state.selectCounty,\n                onChange: this.selectLACounty.bind(this),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  defaultValue: true,\n                  children: \"select county\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 13\n                }, this), this.state.county.map(x => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: x.c_name\n                  }, x.c_name, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 22\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                onChange: this.selectLAPrison.bind(this),\n                value: this.state.selectPrison,\n                style: {\n                  marginBottom: \"5px\",\n                  paddingRight: \"10px\",\n                  marginRight: \"40px\",\n                  paddingLeft: \"10px\",\n                  height: \"30px\",\n                  width: \"200px\",\n                  border: \"2px black solid\",\n                  backgroundColor: \"#393F44\",\n                  color: \"#D8D9DA\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  defaultValue: true,\n                  children: \"select prison\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 13\n                }, this), this.state.prisons.map(x => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: x.p_name\n                  }, x.p_name, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 24\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                float: \"left\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"myDate\",\n                type: \"date\",\n                min: \"2020-03-10\",\n                max: \"2021-05-03\",\n                name: \"theDate\",\n                onChange: this.handleInputChange,\n                style: {\n                  marginBottom: \"5px\",\n                  marginRight: \"40px\",\n                  height: \"30px\",\n                  width: \"170px\",\n                  border: \"2px black solid\",\n                  backgroundColor: \"#393F44\",\n                  color: \"#D8D9DA\",\n                  paddingLeft: \"10px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"sbmt_btn\",\n                style: {\n                  cursor: \"pointer\",\n                  marginBottom: \"5px\",\n                  height: \"30px\",\n                  width: \"100px\",\n                  border: \"2px black solid\",\n                  color: \"#D8D9DA\",\n                  paddingLeft: \"10px\"\n                },\n                children: \"submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 9\n        }, this), this.datetime(), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            margin: \"auto\",\n            width: \"70%\",\n            overflow: \"auto\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"red\"\n              },\n              id: \"error\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"chosenData\",\n            style: {\n              margin: \"10px\",\n              width: \"85%\",\n              float: \"left\",\n              border: \"2px solid #393F44\",\n              visibility: \"visible\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"County: \", selectCounty, \" \\u2003\\u2003  Prison: \", selectPrison, \" \\u2003\\u2003  Date: \", theDate]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/vaccine\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vac_btn\",\n              style: {\n                boxShadow: \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n                float: \"right\",\n                padding: \"8px\",\n                margin: \"10px\",\n                cursor: \"pointer\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"Vaccine info\",\n                title: \"Get vaccine info\",\n                style: {\n                  width: \"40px\",\n                  height: \"40px\",\n                  align: \"center\",\n                  verticalAlign: \"middle\"\n                },\n                src: syring\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(MyMap, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: \"50px\",\n            width: \"70%\",\n            margin: \"auto\",\n            border: \"2px solid #393F44\",\n            borderTop: 'none'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            style: {\n              height: \"50px\",\n              width: \"50%\",\n              float: \"left\",\n              display: \"inline-block\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hoverText\",\n              children: \"Prison Legend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 116\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"50px\",\n                width: \"20%\",\n                backgroundColor: \"#049CE6\",\n                float: \"left\",\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  textAlign: \"center\",\n                  verticalAlign: \"middle\",\n                  lineHeight: \"50px\"\n                },\n                children: \"0 - 1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 124\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"50px\",\n                width: \"20%\",\n                backgroundColor: \"#038ACC\",\n                float: \"left\",\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  textAlign: \"center\",\n                  verticalAlign: \"middle\",\n                  lineHeight: \"50px\"\n                },\n                children: \"2 - 4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 124\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"50px\",\n                width: \"20%\",\n                backgroundColor: \"#0379B3\",\n                float: \"left\",\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  textAlign: \"center\",\n                  verticalAlign: \"middle\",\n                  lineHeight: \"50px\"\n                },\n                children: \"5 - 9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 124\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"50px\",\n                width: \"20%\",\n                backgroundColor: \"#026899\",\n                float: \"left\",\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  textAlign: \"center\",\n                  verticalAlign: \"middle\",\n                  lineHeight: \"50px\"\n                },\n                children: \"10 - 19\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 124\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"50px\",\n                width: \"20%\",\n                backgroundColor: \"#025780\",\n                float: \"left\",\n                display: \"inline-block\"\n              },\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  textAlign: \"center\",\n                  verticalAlign: \"middle\",\n                  lineHeight: \"50px\"\n                },\n                children: \"20+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 125\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            style: {\n              height: \"50px\",\n              width: \"50%\",\n              backgroundColor: \"orange\",\n              float: \"right\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hoverText\",\n              children: \"County Legend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 117\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"50px\",\n                width: \"20%\",\n                backgroundColor: \"#A2461A\",\n                float: \"left\",\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  textAlign: \"center\",\n                  verticalAlign: \"middle\",\n                  lineHeight: \"50px\"\n                },\n                children: \" 500+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 124\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"50px\",\n                width: \"20%\",\n                backgroundColor: \"#DA6E26\",\n                float: \"left\",\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  textAlign: \"center\",\n                  verticalAlign: \"middle\",\n                  lineHeight: \"50px\"\n                },\n                children: \" 200 - 499\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 124\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"50px\",\n                width: \"20%\",\n                backgroundColor: \"#FEA33E\",\n                float: \"left\",\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  textAlign: \"center\",\n                  verticalAlign: \"middle\",\n                  lineHeight: \"50px\"\n                },\n                children: \"100 - 199\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 124\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"50px\",\n                width: \"20%\",\n                backgroundColor: \"#FCC960\",\n                float: \"left\",\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  textAlign: \"center\",\n                  verticalAlign: \"middle\",\n                  lineHeight: \"50px\"\n                },\n                children: \"50 - 99\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 124\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"50px\",\n                width: \"20%\",\n                backgroundColor: \"#FCE49C\",\n                float: \"left\",\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  textAlign: \"center\",\n                  verticalAlign: \"middle\",\n                  lineHeight: \"50px\"\n                },\n                children: \"0 - 49\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 124\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"scroll_up\",\n          style: {\n            paddingTop: \"20px\",\n            visibility: \"visible\",\n            float: \"right\",\n            width: '20%',\n            margin: 'auto',\n            display: \"flex\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: this.scrollUp.bind(this),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"Page up\",\n              title: \"Scroll to the top\",\n              style: {\n                cursor: \"pointer\",\n                height: \"40px\",\n                width: \"40px\"\n              },\n              src: icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"info\",\n          style: {\n            visibility: \"hidden\",\n            paddingBottom: \"20px\",\n            paddingTop: \"20px\",\n            textAlign: \"left\",\n            height: \"auto\",\n            width: '40%',\n            margin: 'auto',\n            border: \"2px solid #393F44 \",\n            marginTop: \"60px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: \"auto\",\n            width: \"85%\",\n            paddingTop: \"100px\"\n          },\n          id: \"info_chart\",\n          children: /*#__PURE__*/_jsxDEV(Bachart, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: \"auto\",\n            width: \"85%\",\n            paddingTop: \"100px\"\n          },\n          id: \"info_chart\",\n          children: /*#__PURE__*/_jsxDEV(Bchart, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/mahmood/Desktop/COVID19-Hotspot-Map/frontend/hotspot-map/src/App.js"],"names":["React","MyMap","icon","syring","Link","county_data","prison_data","marker_data","Bchart","Bachart","displaytodaydate","cty","pri","data","App","Component","constructor","props","datetime","showdate","Date","date","getDate","month","getMonth","year","getFullYear","handleInputChange","event","preventDefault","console","log","target","value","setState","theDate","handleSubmit","document","getElementById","innerHTML","style","color","visibility","state","inputValidate","AllCountyData","AllPrisonData","scrollUp","window","scrollTo","top","behavior","county","prisons","selectCounty","selectPrison","pri_uni_ref","cty_uni_ref","loadCounties","response","fetch","json","ok","getPrison","getTotalPrisonCases","getVacLoc","getTotalCountyCases","getPrisonData","getCountyData","componentDidMount","then","result","selectLACounty","tar","i","length","push","uni_ref","j","c_name","selectLAPrison","p_name","valiData","total_deaths","total_cases","pri_cases","pri_deaths","pri_released","new_cases","new_deaths","cty_tot_deaths","cty_tot_cases","cty_cases","cty_deaths","conf_cases","conf_deaths","cty_data","cases","deaths","pri_data","released_cases","new_conf_cases","k","Object","keys","l","rel_cases","render","textAlign","fontFamily","margin","width","display","overflow","float","marginRight","marginBottom","paddingLeft","paddingRight","height","border","backgroundColor","bind","map","x","cursor","boxShadow","padding","align","verticalAlign","borderTop","lineHeight","paddingTop","paddingBottom","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport MyMap from \"./components/mymap\";\nimport './App.css';\nimport icon from './components/logo192.png';\nimport syring from './components/pls.png';\nimport {Link} from 'react-router-dom';\nimport county_data from './data/total_county_data.json';\nimport prison_data from './data/total_pri_data.json';\nimport marker_data from './data/markers.json';\nimport Bchart from './chart_county.js';\nimport Bachart from './chart_prison.js';\n\n// making todays date accessible to all the methods\nvar displaytodaydate;\n//var latestDataDate = \"2021-05-03\"\nvar cty;\nvar pri;\nvar data = {}\n\nclass App extends React.Component {\n  \n  constructor(props){\n    \n    // initializing \n    super(props);\n    this.state = {\n      county: [],\n      prisons: [],\n      selectCounty:'All',\n      selectPrison:'None',\n      theDate: '',\n      pri_uni_ref:[],\n      cty_uni_ref:[],\n\n    };\n\n  }\n  \n\n  // to find the today's date\n  datetime = () => {\n\n\n    var showdate= new Date();\n\n    var date = showdate.getDate();\n    var month = 1 + showdate.getMonth();\n    var year = showdate.getFullYear();\n    \n    \n    if(date < 10 ){\n      date = '0'+showdate.getDate();\n    }\n    if(month < 10){\n      \n      month = '0'+(month);\n    }\n    displaytodaydate = year + '-' + (month) + '-' + date;\n    \n    return(\n      <div></div>\n    )\n\n\n  }\n  // Load all the counties for the dropdown.\n  async loadCounties() {\n    const response = await fetch('/load_counties');   //how it gets backend\n    const data = await response.json();\n    if (response.ok){\n      \n      console.log(\"Connected to backend API from loadDB().\");\n    }\n    else {\n      console.log(\"Could not connect to backend API from loadDB().\");\n    }\n    return data;\n  }\n\n  // Writes all the prisons to a file and also returns the result.\n  async getPrison() {\n    const response = await fetch('/get_prisons');\n    const data = await response.json();\n\n    if (response.ok){\n      console.log(\"Connected to backend API from getPrison().\");\n    }\n    else {\n      console.log(\"Could not connect to backend API from getPrison().\");\n    }\n    return data;\n  }\n\n  // This gets the total number of cases for all prisons for the latest date.\n  async getTotalPrisonCases() {\n    const response = await fetch('/getTotalPrisonCases');\n\n    if (response.ok){\n      console.log(\"Connected to backend API from getTotalPrisonCases().\");\n    }\n    else {\n      console.log(\"Could not connect to backend API from getTotalPrisonCases().\");\n    }\n  }\n\n  // Loads all the vaccine locations in california.\n  async getVacLoc() {\n    const response = await fetch('/getVacLoc');\n\n    if (response.ok){\n      console.log(\"Connected to backend API from getVacLoc().\");\n    }\n    else {\n      console.log(\"Could not connect to backend API from getVacLoc().\");\n    }\n  }\n\n  // This gets the total number of cases for all counties for the latest date.\n  async getTotalCountyCases() {\n    const response = await fetch('/getTotalCountyCases');\n\n    if (response.ok){\n      console.log(\"Connected to backend API from getTotalCountyCases().\");\n    }\n    else {\n      console.log(\"Could not connect to backend API from getTotalCountyCases().\");\n    }\n  }\n\n  // This gets the data for a selected prison and date.\n  async getPrisonData() {\n    const response = await fetch('/getPrisonData/' + this.state.pri_uni_ref + \" \" + this.state.theDate);\n    const data = await response.json();\n  \n    if (response.ok){\n      console.log(\"Connected to backend API from getPrisonData().\");\n    }\n    else {\n      console.log(\"Could not connect to backend API from getPrisonData().\");\n    }\n    return data;\n  }\n\n  // This gets the data for all counties given a date.\n  async AllCountyData() {\n    if (this.state.theDate === '') {\n      this.state.theDate = '2021-05-03';\n    }\n    const response = await fetch('/AllCountyData/' + this.state.theDate);\n\n    if (response.ok){\n      console.log(\"Connected to backend API from AllCountyData().\");\n    }\n    else {\n      console.log(\"Could not connect to backend API from AllCountyData().\");\n    }\n  }\n\n  // This gets the data for all prison given a date.\n  async AllPrisonData() {\n\n    const response = await fetch('/AllPrisonData/' + this.state.theDate);\n\n    if (response.ok){\n      console.log(\"Connected to backend API from AllPrisonData().\");\n    }\n    else {\n      console.log(\"Could not connect to backend API from AllPrisonData().\");\n    }\n  }\n\n  // This gets the data for a selected county and date.\n  async getCountyData() {\n      const response = await fetch('/getCountyData/' + this.state.cty_uni_ref + \" \" + this.state.theDate);\n      const data = await response.json();\n  \n      if (response.ok){\n        console.log(\"Connected to backend API from getCountyData()\");\n      }\n      else {\n        console.log(\"Could not connect to backend API from getCountyData()\");\n      }\n      return data;\n    }\n\n\n  async componentDidMount() {\n    cty = this.loadCounties();\n    pri = this.getPrison();\n    this.getVacLoc();\n    this.AllCountyData();\n    this.AllPrisonData();\n\n    this.getTotalPrisonCases();\n    this.getTotalCountyCases();\n\n    //probably need to move this to a new method\n    if(!document.getElementById(\"myDate\").value){\n      document.getElementById(\"error\").innerHTML = \"No data avalible for <strong>\" + displaytodaydate + \"</strong> Showing data for <strong>2021-05-03</strong>\";\n    }\n    \n    // county drop down.\n    cty.then( result => {\n      this.setState({ county:result,\n      });\n    });\n    \n  }\n\n  // for the drop down menus\n  selectLACounty(event){\n\n    this.setState({ \n      prisons: [],\n      selectPrison: 'None',\n      selectCounty: 'All'\n      \n  });\n\n    \n    this.setState({ selectCounty: event.target.value});\n\n    var tar = event.target.value;\n\n    pri.then( result => {\n\n      this.setState({prisons:[]});\n\n      // get the match for the counties.\n      for (var i = 0; i < result.length; i++) {\n        if (result[i].county === tar) {\n          this.state.prisons.push(result[i])\n        }\n      }\n\n      if(event.target.value) {\n        var uni_ref;\n        // get the reference value for a chosen county.\n        for (var j = 0; j < this.state.county.length; j++) {\n          if (this.state.county[j].c_name === event.target.value) {\n            uni_ref = this.state.county[j].uni_ref;\n          }\n        }\n    \n        this.setState({cty_uni_ref: uni_ref});\n      }\n      else {\n        this.setState({ \n          prisons: [],\n          selectPrison: 'None',\n          selectCounty: 'All'\n      });\n    }\n\n    });\n\n  }\n\n  selectLAPrison(event){\n    \n    // if a value is set for prison\n    if(event.target.value){\n      this.setState({\n\n        selectPrison: event.target.value,\n\n      });\n    }\n    // if the user goes back to having no value for prison\n    else{\n      this.setState({ \n        selectPrison: 'None',\n      });\n    }\n\n\n    var uni_ref;\n    // get the reference value for a chosen prison.\n    for (var i = 0; i < this.state.prisons.length; i++) {\n      if (this.state.prisons[i].p_name === event.target.value) {\n        uni_ref = this.state.prisons[i].uni_ref;\n      }\n    }\n    this.setState({pri_uni_ref: uni_ref}, function () {\n  \n    });\n  }\n\n  handleInputChange = (event) =>{\n\n    event.preventDefault()\n    console.log(event.target.value)\n    this.setState({\n      theDate: event.target.value\n    })\n  }\n\n  handleSubmit=(event) =>{\n    document.getElementById(\"error\").innerHTML = \"Scroll down for more information\";\n    document.getElementById(\"error\").style.color = \"green\";\n    document.getElementById(\"chosenData\").style.visibility = \"visible\";\n    event.preventDefault()\n    data = this.state;\n    this.inputValidate(data);\n    this.AllCountyData();\n    this.AllPrisonData();\n   } \n\n\n  inputValidate(valiData){\n    \n    var total_deaths = 0;\n    var total_cases = 0;\n    var pri_cases = 0;\n    var pri_deaths = 0;\n    var pri_released = 0;\n    var new_cases = 0;\n    var new_deaths = 0;\n    var cty_tot_deaths = 0;\n    var cty_tot_cases = 0;\n    var cty_cases = 0;\n    var cty_deaths = 0;\n\n    if(valiData.selectCounty === 'All'){\n      // if(valiData.theDate){\n        // document.getElementById(\"error\").style.color = \"red\";\n        // document.getElementById(\"error\").innerHTML = \"You must choose a county, or both, a county and a prison\";\n      // }\n      // else{\n        console.log(\"All county\")\n        console.log(valiData.theDate);\n        for(var i = 0; i < 58; i++){\n          total_cases  += county_data[i].conf_cases;\n          total_deaths  += county_data[i].conf_deaths;\n  \n        // }\n        document.getElementById(\"info\").style.visibility = \"visible\";\n        document.getElementById(\"info\").innerHTML = \"<h2 style='font-family:Andale Mono, monospace; text-align:center;'>California</h2><h3 style=' font-family:Andale Mono, monospace; text-align:center'>03/10/2020 - 05/03/2021</h3><strong style='padding-left:15px; font-family:Andale Mono, monospace'>Confirmed Cases:</strong> <span style='font-family:Andale Mono, monospace'>\" + total_cases + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Deaths </strong><span style='font-family:Andale Mono, monospace'>\" + total_deaths + \"</span>\";\n      }\n\n    }\n    else if(valiData.selectPrison === 'None'){\n      console.log(\"here\")\n      if(valiData.theDate){\n        var cty_data = this.getCountyData();\n        cty_data.then(function(result) {\n  \n          if (result.length) {\n            document.getElementById(\"info\").style.visibility = \"visible\";\n            cty_cases = result[0].new_cases;\n            cty_deaths = result[0].new_deaths;\n            cty_tot_cases = result[0].cases;\n            cty_tot_deaths = result[0].deaths\n            document.getElementById(\"info\").innerHTML = \"<h2 style='text-align:center; font-family:Andale Mono, monospace;'>\" + data.selectCounty + \" </h2><h3 style='text-align:center; font-family:Andale Mono, monospace;'>\" + data.theDate + \"</h3><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Confirmed Cases today: </strong><span style='font-family:Andale Mono, monospace;'> \" + cty_cases + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Deaths today: </strong><span style ='font-family:Andale Mono, monospace;' >\" + cty_deaths + \"<br><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Total cases so far : </strong><span style='font-family:Andale Mono, monospace;'>\" + cty_tot_cases + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Total deaths so far : </strong><span style='font-family:Andale Mono, monospace;'>\" + cty_tot_deaths + \"</span>\";\n          } else {\n            document.getElementById(\"error\").innerHTML = \"Data not found for the selected date.\";\n            document.getElementById(\"error\").style.color = \"red\";\n            document.getElementById(\"info\").innerHTML = \"\";\n            \n          }\n        });\n        \n      }\n      else {\n        document.getElementById(\"info\").style.visibility = \"visible\";\n        for(var j = 0; j < 58; j++){\n          if(data.selectCounty === county_data[j].county){\n            document.getElementById(\"info\").innerHTML = \"<h2 style='text-align:center'>\" + data.selectCounty + \" </h2><strong style='padding-left:15px;'> Confirmed Cases:</strong> \" + county_data[j].conf_cases + \"<br><strong style='padding-left:15px'>Confirmed Deaths: </strong>\" + county_data[j].conf_deaths;\n          }\n        }\n      }\n     \n    }\n    else {\n      if(data.theDate){\n        cty_data = this.getCountyData();\n        cty_data.then(function(result) {\n  \n          if (result.length) {\n            document.getElementById(\"info\").style.visibility = \"visible\";\n            cty_cases = result[0].new_cases;\n            cty_deaths = result[0].new_deaths;\n            cty_tot_cases = result[0].cases;\n            cty_tot_deaths = result[0].deaths\n            document.getElementById(\"info\").innerHTML = \"<h2 style=' font-family:Andale Mono, monospace; text-align:center'>County Data<h2><h3 style=' font-family:Andale Mono, monospace; text-align:center'>\"+ data.selectCounty +\"</h3><h3 style=' font-family:Andale Mono, monospace; text-align:center'>\" + data.theDate + \"</h3><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Cases today:</strong> <span style=' font-family:Andale Mono, monospace;'>\" + cty_cases + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Confirmed Deaths today:</strong> <span style='font-family:Andale Mono, monospace;'>\" + cty_deaths + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Confirmed Cases so far:</strong> <span style=' font-family:Andale Mono, monospace;'>\" +cty_tot_cases + \"<br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Deaths so far: </strong> <span style=' font-family:Andale Mono, monospace;'>\" + cty_tot_deaths + \"</span>\";\n          } else {\n            document.getElementById(\"error\").innerHTML = \"Data not found for the selected date.\";\n            document.getElementById(\"error\").style.color = \"red\";\n            document.getElementById(\"info\").innerHTML = \"\";\n            \n          }\n        });\n        var pri_data = this.getPrisonData();\n        pri_data.then(function(result) {\n\n          if (result.length) {\n            document.getElementById(\"info\").style.visibility = \"visible\";\n            pri_cases = result[0].conf_cases;\n            pri_deaths = result[0].deaths;\n            pri_released = result[0].released_cases;\n            new_cases = result[0].new_conf_cases;\n            new_deaths = result[0].new_deaths;\n            document.getElementById(\"info\").innerHTML += \"<h2 style=' font-family:Andale Mono, monospace; text-align:center'>Prison Data<h2><h3 style=' font-family:Andale Mono, monospace; text-align:center'>\"+ data.selectPrison +\"</h3><h3 style=' font-family:Andale Mono, monospace; text-align:center'>\" + data.theDate + \"</h3><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Cases today:</strong> <span style=' font-family:Andale Mono, monospace;'>\" + new_cases + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Confirmed Deaths today:</strong> <span style='font-family:Andale Mono, monospace;'>\" + new_deaths + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Confirmed Cases so far:</strong> <span style=' font-family:Andale Mono, monospace;'>\" + pri_cases + \"<br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Deaths so far: </strong> <span style=' font-family:Andale Mono, monospace;'>\" + pri_deaths + \"</span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Confirmed Release so far: </strong> <span style='font-family:Andale Mono, monospace;'>\" + pri_released + \"</span>\";\n            \n          } else {\n            pri_cases = 0;\n            pri_deaths = 0;\n            pri_released = 0;\n            new_cases = 0;\n            new_deaths = 0;\n            document.getElementById(\"error\").innerHTML = \"Data not found for the selected date.\";\n            document.getElementById(\"error\").style.color = \"red\";\n            document.getElementById(\"info\").innerHTML = \"\";\n          }\n        });\n      }\n      else{\n        document.getElementById(\"info\").style.visibility = \"visible\";\n     \n        for(var k = 0; k < Object.keys(marker_data).length; k++){\n          if(data.selectPrison === marker_data[k].p_name){\n            for(var l = 0; l < Object.keys(prison_data).length; l++ ){\n              \n              if(prison_data[l].uni_ref === marker_data[k].uni_ref){\n                document.getElementById(\"info\").innerHTML = \"<h2 style='text-align:center; font-family:Andale Mono, monospace;'>\" + data.selectPrison  + \" </h2><h3 style='text-align:center; font-family:Andale Mono, monospace;'>\" + data.selectCounty + \" </h3><strong style='padding-left:15px; font-family:Andale Mono, monospace;'> Total Confirmed Cases:</strong> <span style='font-family:Andale Mono, monospace;'>\" + prison_data[l].conf_cases + \"<span><br><strong style='padding-left:15px; font-family:Andale Mono, monospace;'>Total Confirmed Deaths: </strong><apan style='font-family:Andale Mono, monospace;'\" + prison_data[l].conf_deaths + \"</span><strong style='padding-left:15px; font-family:Andale Mono, monospace'>Total Confirmed Release: </strong><span style='font-family:Andale Mono, monospace'> \" + prison_data[l].rel_cases + \"</span>\";\n                \n                document.getElementById(\"info\").innerHTML = \"<h2 style='text-align:center'>\" + data.selectPrison + \" </h2><h3 style='text-align:center'>\" + data.selectCounty + \" </h3><strong style='padding-left:15px;'> Confirmed Cases:</strong> \" + prison_data[l].conf_cases + \"<br><strong style='padding-left:15px'>Confirmed Deaths: </strong>\" + prison_data[l].conf_deaths + \"<br><strong style='padding-left:15px'>Confirmed Release: </strong>\" + prison_data[l].rel_cases;\n              }\n            }     \n          }\n        }\n      }\n    }\n  }\n\n  scrollUp= ()=>{ \n    window.scrollTo({top: 0, behavior: 'smooth'});\n}\n  \n  render() {  \n    const {theDate} = this.state \n    const {selectPrison} = this.state  \n    const {selectCounty} = this.state\n\n    return (\n      <div>   \n      <div>\n      \n        <div > <h2 style = {{textAlign: \"Center\", fontFamily:\"Courier New\"}}> California Covid-19 Hotspot Map</h2></div>\n      \n        <div style={{margin:\"auto\", textAlign:\"center\", width:\"70%\", display:\"block\", overflow:\"auto\"}}>\n        <form style={{display: \"inline-block\"}} onSubmit={this.handleSubmit}>\n        \n        <div style={{float:\"left\" }}>\n\n          <select  style={{marginRight:\"40px\", marginBottom:\"5px\", paddingLeft:\"10px\", paddingRight:\"10px\", height:\"30px\", width:\"200px\", border:\"2px black solid\", backgroundColor:\"#393F44\", color:\"#D8D9DA\"}} value={this.state.selectCounty} onChange={this.selectLACounty.bind(this)}>\n\n           \n            <option value=\"\"  defaultValue >select county</option>\n            {this.state.county.map(x => {\n              return <option key={x.c_name}>{x.c_name}</option>\n            })}\n\n          </select>\n\n\n          <select onChange={this.selectLAPrison.bind(this)} value={this.state.selectPrison} style={{marginBottom:\"5px\", paddingRight:\"10px\", marginRight:\"40px\", paddingLeft:\"10px\", height:\"30px\", width:\"200px\", border:\"2px black solid\", backgroundColor:\"#393F44\", color:\"#D8D9DA\"}}>\n\n           \n            <option value=\"\" defaultValue>select prison</option>\n            {\n              this.state.prisons.map(x => { \n                return <option  key={x.p_name}>{x.p_name}</option>     \n              })\n            }\n          \n          </select>\n\n        </div>\n        \n        <div style={{float:\"left\" }}>\n\n\n          <input id=\"myDate\" type=\"date\" min=\"2020-03-10\" max=\"2021-05-03\" name=\"theDate\" onChange= {this.handleInputChange} style={{ marginBottom:\"5px\", marginRight:\"40px\", height:\"30px\", width:\"170px\", border:\"2px black solid\", backgroundColor:\"#393F44\", color:\"#D8D9DA\", paddingLeft:\"10px\"}}></input>\n      \n          <button className=\"sbmt_btn\" style={{ cursor:\"pointer\", marginBottom:\"5px\", height:\"30px\", width:\"100px\", border:\"2px black solid\",  color:\"#D8D9DA\", paddingLeft:\"10px\"}}>submit</button>\n\n        </div>\n        </form>\n        </div>\n          \n            {this.datetime()}\n            <div style={{ textAlign:\"center\", margin:\"auto\", width:\"70%\", overflow:\"auto\"}} >\n            <div><p style={{color:\"red\"}} id=\"error\"></p></div>\n            <div id=\"chosenData\" style={{margin:\"10px\", width:\"85%\", float:\"left\", border:\"2px solid #393F44\", visibility:\"visible\"}} >\n             \n              <p>County: {selectCounty} &emsp;&emsp;  Prison: {selectPrison} &emsp;&emsp;  Date: {theDate}</p>\n             </div>\n             \n             \n             \n             <Link to=\"/vaccine\"><div className=\"vac_btn\" style={{ boxShadow: \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",  float:\"right\", padding:\"8px\", margin:\"10px\", cursor:\"pointer\"}} >\n            <img alt=\"Vaccine info\" title=\"Get vaccine info\" style={{width:\"40px\", height:\"40px\", align:\"center\", verticalAlign:\"middle\"}} src={syring}/>\n            </div>\n            </Link>\n            </div>\n\n\n        </div>\n        <div>\n    \n          <MyMap />\n\n          <div style={{ height:\"50px\", width:\"70%\", margin:\"auto\", border:\"2px solid #393F44\", borderTop:'none'}}>\n              <div className=\"legend\" style={{ height:\"50px\", width:\"50%\", float:\"left\", display:\"inline-block\"}} ><span className=\"hoverText\">Prison Legend</span>\n              <div style={{ height:\"50px\", width:\"20%\", backgroundColor:\"#049CE6\", float:\"left\", display:\"inline-block\"}} ><strong style={{textAlign:\"center\", verticalAlign:\"middle\", lineHeight:\"50px\"}}>0 - 1</strong></div>\n              <div style={{ height:\"50px\", width:\"20%\", backgroundColor:\"#038ACC\", float:\"left\", display:\"inline-block\"}} ><strong style={{textAlign:\"center\", verticalAlign:\"middle\", lineHeight:\"50px\"}}>2 - 4</strong></div>\n              <div style={{ height:\"50px\", width:\"20%\", backgroundColor:\"#0379B3\", float:\"left\", display:\"inline-block\"}} ><strong style={{textAlign:\"center\", verticalAlign:\"middle\", lineHeight:\"50px\"}}>5 - 9</strong></div>\n              <div style={{ height:\"50px\", width:\"20%\", backgroundColor:\"#026899\", float:\"left\", display:\"inline-block\"}} ><strong style={{textAlign:\"center\", verticalAlign:\"middle\", lineHeight:\"50px\"}}>10 - 19</strong></div>\n              <div style={{ height:\"50px\", width:\"20%\", backgroundColor:\"#025780\", float:\"left\", display:\"inline-block\"}} > <strong style={{textAlign:\"center\", verticalAlign:\"middle\", lineHeight:\"50px\"}}>20+</strong></div>\n            </div>\n            <div className=\"legend\" style={{ height:\"50px\", width:\"50%\", backgroundColor:\"orange\", float:\"right\"}} ><span className=\"hoverText\">County Legend</span>\n              <div style={{ height:\"50px\", width:\"20%\", backgroundColor:\"#A2461A\", float:\"left\", display:\"inline-block\"}} ><strong style={{textAlign:\"center\", verticalAlign:\"middle\", lineHeight:\"50px\"}}> 500+</strong></div>\n              <div style={{ height:\"50px\", width:\"20%\", backgroundColor:\"#DA6E26\", float:\"left\", display:\"inline-block\"}} ><strong style={{textAlign:\"center\", verticalAlign:\"middle\", lineHeight:\"50px\"}}> 200 - 499</strong></div>\n              <div style={{ height:\"50px\", width:\"20%\", backgroundColor:\"#FEA33E\", float:\"left\", display:\"inline-block\"}} ><strong style={{textAlign:\"center\", verticalAlign:\"middle\", lineHeight:\"50px\"}}>100 - 199</strong></div>\n              <div style={{ height:\"50px\", width:\"20%\", backgroundColor:\"#FCC960\", float:\"left\", display:\"inline-block\"}} ><strong style={{textAlign:\"center\", verticalAlign:\"middle\", lineHeight:\"50px\"}}>50 - 99</strong></div>\n              <div style={{ height:\"50px\", width:\"20%\", backgroundColor:\"#FCE49C\", float:\"left\", display:\"inline-block\"}} ><strong style={{textAlign:\"center\", verticalAlign:\"middle\", lineHeight:\"50px\"}}>0 - 49</strong></div>\n\n            </div>\n          </div>\n\n          <div id=\"scroll_up\" style={{paddingTop:\"20px\", visibility:\"visible\", float:\"right\", width: '20%', margin: 'auto', display:\"flex\"}} >\n                    <span onClick={this.scrollUp.bind(this)}>\n                      <img alt=\"Page up\" title=\"Scroll to the top\" style={{cursor:\"pointer\", height:\"40px\", width:\"40px\"}} src={icon} />\n                        </span>\n                    </div>\n            \n            \n            <div id=\"info\" style={{visibility:\"hidden\", paddingBottom:\"20px\", paddingTop:\"20px\", textAlign:\"left\", height:\"auto\", width: '40%', margin: 'auto', border:\"2px solid #393F44 \", marginTop:\"60px\"}}>\n             \n            </div>\n\n            <div style={{margin:\"auto\", width:\"85%\", paddingTop: \"100px\"}} id=\"info_chart\">\n              <Bachart/>\n\n            </div>\n            <div style={{margin:\"auto\", width:\"85%\", paddingTop: \"100px\"}} id=\"info_chart\">\n              <Bchart/>\n\n            </div>\n\n      \n      </div>\n      </div>    \n   \n    );\n  };\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}